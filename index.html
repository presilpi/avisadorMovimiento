<!DOCTYPE html>
<html>
<head>
<title>Acceleration Example</title>

<link rel="stylesheet" type="text/css" href="style.css">

<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script type="text/javascript" charset="utf-8">

// The watch id references the current `watchAcceleration`
var watchID = null;

inicial=1;
cont=0;
x=0;
y=0;
z=0;

// Wait for device API libraries to load
//
document.addEventListener("deviceready", onDeviceReady, false);

// device APIs are available
//
function onDeviceReady() {

var element = document.getElementById('accelerometer');
element.innerHTML = 'onDeviceReay ... <br />';


startWatch();
}

// Start watching the acceleration
//
function startWatch() {
document.getElementById('barra').innerHTML = ' <a href="javascript:stopWatch();"><img src="data:image/png;base64,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" id="onOff"></a><div id="estado">Sistema encendido<br>Monitorizando actividad</div>';

// Update acceleration every 3 seconds
var options = { frequency: 3000 };

watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);

}

// Stop watching the acceleration
//
function stopWatch() {
if (watchID) {
navigator.accelerometer.clearWatch(watchID);
watchID = null;
//Actualizamos el boton y texto
document.getElementById('barra').innerHTML = ' <a href="javascript:startWatch();"><img src="data:image/png;base64,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" id="onOff"></a><div id="estado">Sistema parado</div>';
reiniciarProceso();

}
}

function reiniciarProceso(){
document.getElementById('accelerometer').innerHTML = 'reiniciando proceso x:'+x;
document.getElementById('ok1').style.display = "none";
document.getElementById('ok2').style.display = "none";
document.getElementById('ok3').style.display = "none";
document.getElementById('ok4').style.display = "none";

document.getElementById('iconGreen1').style.display = "none";
document.getElementById('iconGreen2').style.display = "none";
document.getElementById('iconGreen3').style.display = "none";
document.getElementById('iconGreen4').style.display = "none";

//alert('reiniciando');
}

// onSuccess: Get a snapshot of the current acceleration
//
function onSuccess(acceleration) {

if (inicial==1){
x=Math.floor((acceleration.x)*5);
y=Math.floor((acceleration.y)*5);
z=Math.floor((acceleration.z)*5);

  inicial=0;
}

cont=cont+1;
//alert("onsuccess"+cont);

var element = document.getElementById('accelerometer');

if (cont==0){
//      alert("x :"+Math.floor((acceleration.x)*100));
x=Math.floor((acceleration.x)*5);
y=Math.floor((acceleration.y)*5);
z=Math.floor((acceleration.z)*5);
}
else{
// alert("math.floor"+Math.floor((acceleration.x)*100));
       if (x!=(Math.floor((acceleration.x)*5)) || y!=(Math.floor((acceleration.y)*5)) || z!=(Math.floor((acceleration.z)*5)) ){
      cont=0;
      
 //     alert("reiniciando proceso cont="+cont);      
      reiniciarProceso();
      }
      else{
        if (cont==1) {
            document.getElementById('iconGreen1').style.display = "block";
            document.getElementById('ok1').style.display = "block";
           }
        if (cont==2) {
            document.getElementById('iconGreen2').style.display = "block";
            document.getElementById('ok2').style.display = "block";
            }
        if (cont==3) {
            document.getElementById('iconGreen3').style.display = "block";
            document.getElementById('ok3').style.display = "block";
            }
        if (cont==4) {
            document.getElementById('iconGreen4').style.display = "block";
            document.getElementById('ok4').style.display = "block";
            }
      
      }
x=Math.floor((acceleration.x)*5);
y=Math.floor((acceleration.y)*5);
z=Math.floor((acceleration.z)*5);
}


element.innerHTML = 'Acceleration X: ' + x + '<br />' +
'Acceleration Y: ' + y + '<br />' +
'Acceleration Z: ' + z + '<br />' +
'cont: ' + cont + '<br />';


}

// onError: Failed to get the acceleration
//
function onError() {
alert('onError!');
}

</script>
</head>
<body>
<div id='contenedor'>
<div id='cabecera'>
  <div id='usuario'>Nombre del usuario</div>
  <div id='fecha'>23 Diciembre 2013</div>
  <div id='dia'>Lunes</div>
</div>
<div id='barra'></div>

<div id='contenidos'>
<div id='fase1' class='bgGris'>
  <div class='izqBg1'>&nbsp;</div>
  <div class='izq1'><div id='iconGreen1'></div> AVISO DE 15 SEGUNDOS<span id='ok1'>FASE SUPERADA</span></div>
</div>
<div id='fase2' class='bgBlanco'>
  <div class='izqBg2'>&nbsp;</div>
  <div class='izq1'><div id='iconGreen2'></div> AVISO DE 30 SEGUNDOS<span id='ok2'>FASE SUPERADA</span></div>
</div>
<div id='fase3' class='bgGris'>
  <div class='izqBg3'>&nbsp;</div>
  <div class='izq1'><div id='iconGreen3'></div> AVISO DE 45 SEGUNDOS<span id='ok3'>FASE SUPERADA</span></div>
</div>
<div id='fase4' class='bgBlanco'>
  <div class='izqBg4'>&nbsp;</div>
  <div class='izq1'><div id='iconGreen4'></div> AVISO DE 60 SEGUNDOS<span id='ok4'>FASE SUPERADA: ENVIANDO AVISO</span></div>
</div>
</div>


<div id="accelerometer">Waiting for accelerometer...</div>

</div>


</body>
</html>
